metadata:
  title: Petition for Rule to Show Cause - Family Law
  short title: Petition - Rule to Show Cause
  comment: This program helps you make forms to help enforce an earlier court order from a family law case.
  authors:
    - Vivian McNaughton
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
---
objects:
  - users: ALPeopleList.using(there_are_any=True, complete_attribute=['complete'])
  - other_parties: ALPeopleList.using(complete_attribute=['complete'])
  - other_parties[i].lawyer: ALIndividual
  - children: ALPeopleList.using(complete_attribute=['complete'], there_are_any=True, object_type=ALIndividual)
  - order_paragraphs: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - other_parties[0].jail_delivery_address: ALAddress
---
modules:
  - .name_with_age
---
code: |
  ilao_easy_form_title = "Petition for Rule to Show Cause - Family Law"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/127486"
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-PetitionForRuleToShowCauseFamily'
  allowed_courts = ['Circuit']
  al_form_type = 'existing_case'
  form_name = "Petition for Rule to Show Cause"
---
# Road map
sections:
  - section_intro: Start
  - section_case_info: Case info
  - section_petition: Your petition
  - section_delivery: Delivery and filing details
  - section_user: About you
  - section_download: Download  
---
# interview order block
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start
  how_to_use
  about_petition
  set_progress(5)

  nav.set_section('section_case_info')
  case_type
  if violation_type == "child":
    about_child_support  
  party_label
  set_progress(20)
  trial_court_index
  courthouse_info
  case_number
  if in_re_check:
    in_re_label
  filing_date
  case_completed
  other_parties[0].name.first
  
  
  set_progress(40)

  nav.set_section('section_petition')
  petition_info
  if violation_type == "child":
    child_support_order_date  
    child_support_amount
    child_support_last_payment_date
    child_support_missed_payment_count
    child_support_arrears_check
    child_support_total_amount_note
    children.gather()
  elif violation_type == "maintain":
    maintenance_order_date
    maintenance_amount
    maintenance_last_payment_date
    maintenance_missed_payment_count
    maintenance_arrears_check
    maintenance_total_amount_note
  else:
    order_paragraphs.gather()
  set_progress(60)
  willful_info

  nav.set_section('section_delivery')
  if has_court_date:
      hearing_date
  if other_parties[0].is_represented:
    other_parties[0].lawyer.name.first
  other_parties[0].address.address
  if other_parties[0].knows_delivery_method:
    other_parties[0].email_delivery
    other_parties[0].delivery_date
  hand_delivery_info 

  nav.set_section('section_user')
  users[0].name.first
  set_progress(80)
  users[0].address.address
  users[0].has_email_address
  e_signature

  nav.set_section('section_download')
  set_progress(100)
  next_steps
  forms_assembling
  statute
  snapshot_forms
  get_docs_screen

---
# order paragraph gather block
code: |
  order_paragraphs[i].name.text
  order_paragraphs[i].violation
  order_paragraphs[i].order_request
  order_paragraphs[i].complete = True
---
#child gather code block
code: |
  children[i].name.first
  children[i].birth
  children[i].complete = True
---
generic object: ALIndividual
id: debug
continue button field: x.debug
question: |
  Debug
subquestion: |
  name_with_age() = ${name_with_age(x)}
---
id: general debug
continue button field: debug
question: |
  Debug
subquestion: |
  name_with_age() = ${name_with_age(children[0])}
---
#reconsider: True
#code: |
#  child_with_age.clear()
#  for index, kid in enumerate(children):
#    child_with_age.append(kid)
#    #child_with_age[index].name.first = kid.name_full()
#    child_with_age[index].name.last += " (age "
#    child_with_age[index].name.last += str(int(kid.age.years))
#    child_with_age[index].name.last += ")"
#    child_with_age[index].complete = True
#  child_with_age.there_is_another = False
#  child_age_list = True
---
code: |
  stuff_to_snapshot = {
          'start_time': str(current_datetime().format_datetime()),
          'started_interview': True, 
          } 
  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass
  
  stuff_to_snapshot['user_zip'] = showifdef('users[0].address.zip')

  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')
  
  
  if defined('violation_type'):
    if violation_type == "child":
      stuff_to_snapshot['case'] = "child support"
    elif violation_type == "maintain":
      stuff_to_snapshot['case'] = "spousal support"
    else:
      stuff_to_snapshot['case'] = "other violation"
  
  store_variables_snapshot(
          data=stuff_to_snapshot, persistent=True
          )
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---
id: welcome
question: |
  Petition for rule to show cause - Family law
subquestion: |
  Welcome to Illinois Legal Aid Online's **Petition for rule to show cause - Family law** Easy Form.

  This program makes the forms to enforce an earlier court order in family or domestic relations court.
  
  The forms can only be used in Illinois.
field: sees_nav_bar
---
id: how to use
continue button field: how_to_use
question: |
  Instructions
subquestion: |
  To complete this program, you will need:

  * A copy of the court order you want enforced,
  * Information about how the other person in the case did not follow the order, and
  * The name and address of the other person in your case or their lawyer, if they have one.

  Set aside 10 to 20 minutes to finish this program. You can log in and save your work to continue later. 
  
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some questions have a question mark in a circle ${ fa_icon("question-circle", color_css="#0dcaf0" ) } that also gives help.
---
template: help_example

subject: |

  **You can click sections like this to show more information.**

content: |  

  This is an example of help. Click again to hide.
---
id: petition for rule intro
continue button field: about_petition
question: |
  About enforcing court orders
subquestion: |
  When someone does not follow a court order from a family law case you were in, you have a few options:

  * You can go into **{mediation}**. If you are in Cook County, you may be able to go to the [**Center for Conflict Resolution**](https://www.ccrchicago.org/).
  * If you need help collecting child support, you can ask the [**Illinois Department of Healthcare and Family Services**](https://hfs.illinois.gov/childsupport/parents/apply.html) for help.
  * You can file a *Petition for Rule to Show Cause* when the other party in a case is not following a court order. The petition will the court to enforce its order by finding the other party in **{contempt of court}**. You will need to include a copy of the original court order. You can only use this petition if the other party did not follow the order on purpose and did not have a good reason to do so.
terms:
  - "contempt of court": |
      When someone violates a court order or disrespects the court, they are in **contempt of court**.
  - "mediation": |
      When a neutral person, called a mediator, works to help the parties in a case reach an agreement. Mediation is not a court case.
---
id: case type
question: |
  What type of case was the order from?
subquestion: |
  You may be able to find this on the top of the first page of your court order. It could say something like, "In Re: The Marriage of:" or "In Re: The Parentage of:"
fields:
  - Case type: case_type
    input type: radio
    choices:
      - Dissolution of Marriage
      - Dissolution of Civil Union
      - Legal Separation
      - Declaration of Invalidity
      - Allocation of Parental Responsiblities
      - Visitation (Non-Parent)
      - Support
      - Parentage
      - Order of Protection
      - Other
  - Other case type: other_case_type
    maxlength: 50
    js show if: |
      val('case_type') === "Other"
---
id: in re check
question: |
 Does the court case have the words "**In re:**" in the name?
subquestion: |
  Look at the name of the case at the top of the court papers. "In re" is often used in probate, guardianship, and some family law cases. For example, a probate case regarding Jane Doe's estate might be called "In re: Estate of Jane Doe."
  
  **Note:** If the court papers say "In re:" but also list the names of people in the case, you can select **No**. For example, if the case title is "In re: Marriage of Julia Smith and Tony Smith," the names you already entered will be put on your forms. 
fields:
  - no label: in_re_check
    datatype: yesnoradio
---
id: in re label
question: |
  What does it say after "**In re:**" on the court papers?
subquestion: |
  For example, the case could be called "In re: The Will of Elena Black."
fields:
  - In re:: in_re_label
    maxlength: 50
---
id: type of violation
question: |
  How did the other party not follow the court order?
fields: 
  - no label: violation_type
    input type: radio
    choices:
      - They failed to pay child support.: child
      - They failed to pay maintenance (spousal support, formerly called alimony).: maintain
      - They violated a court order in another way.: other
---
id: about child support
continue button field: about_child_support
question: |
  About child support cases
subquestion: |
  Before making a petition to ask the court to enforce a child support order, you may want to contact the [**Illinois Department of Healthcare and Family Services**](https://hfs.illinois.gov/childsupport/parents.html). HFS may be able to help you get your child support payments.

  This program can make a petition to ask the court for to enforce a child support order, but filing a petition on your own can be harder than getting help from HFS.

  If there are visitation issues or the children are living with someone other than you, it may affect child support payments. You may want to ask a lawyer for advice. Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: party label
question: |
  What was your role in the case?
subquestion: |
  ${ collapse_template(which_party) }  
field: party_label
choices:
  - Plaintiff: plaintiff
  - Petitioner: petitioner
  - Defendant: defendant
  - Respondent: respondent
validation code: |
  if party_label == "plaintiff":
    opponent_label = "defendant"
  elif party_label == "petitioner":
    opponent_label = "respondent"
  elif party_label == "defendant":
    opponent_label = "plaintiff"
  elif party_label == "respondent":
    opponent_label = "petitioner"
---
template: which_party
subject: |
  **Learn more about roles and party labels**
content: |
  If you filed the original case, you are either the Plaintiff or the Petitioner.

  If someone filed the original case against you, you are either the Defendant or the Respondent.

  The other court forms in the case should help you figure it out. Look at the top (the caption) of the forms. They should have a label by your name.
---
id: county
continue button field: county
question: |
  In which county was the case filed?
subquestion: |
  The county should be listed near the top of the court papers.
fields:
  - County: trial_court_index
    datatype: integer
    code: |
      court_county_lookup()
---
id: Cook County district
question: |
  In which Cook County courthouse was the court case filed?
subquestion: |
  ${ collapse_template(cook_district_help) }  
field: cook_district
choices:
  - First Municipal District, Daley Center, 50 W. Washington Street, Chicago: 15
  - Second Municipal District, 5600 Old Orchard Road, Skokie: 16
  - Third Municipal District, 2121 Euclid Avenue, Rolling Meadows: 17
  - Fourth Municipal District, 1500 Maybrook Drive, Maywood: 18
  - Fifth Municipal District, 10220 S. 76th Avenue, Bridgeview: 19
  - Sixth Municipal District, 16501 South Kedzie Parkway, Markham: 20
---
template: cook_district_help
subject: |
  **What if I am not sure?**
content: |  
  Visit **[Illinois Court Help](https://www.ilcourthelp.gov/)**, or you can call or text (833) 411-1121 for assistance.
---
code: |
  def court_county_lookup(lowercase=False):
    all_court_counties = court_list._load_courts()['address_county'].items()
    filtered_courts = [(-1, "cook")] if lowercase else [(-1, "Cook")]
    for court in all_court_counties:
      if court[1] != "Cook":
        court_name = court[1].lower() if lowercase else court[1]
        filtered_courts.append((court[0],court_name))
    return sorted( filtered_courts, key=lambda y: y[1])
---
depends on:
  - trial_court_index
  - cook_district
code: |
  if trial_court_index == -1:
    trial_court = court_list.as_court('trial_court', cook_district)
  else:
    trial_court = court_list.as_court('trial_court', trial_court_index)
    
  court_name = str(trial_court.name)
  court_street_address = str(trial_court.address.address)
  court_full_street = str(trial_court.address.line_one(bare=True))
  court_city = str(trial_court.address.city)
  court_state = str(trial_court.address.state)
  court_zip = str(trial_court.address.zip)
  court_csz = str(trial_court.address.line_two())
  courthouse_info = court_name + ", " + court_street_address + ", " + court_city + ", " + court_state + " " + court_zip
---
template: county_lookup_help
subject: |
  **How do I look up the county?**
content: |  
  You can use this [**City-to-County Finder**](https://www.statsamerica.org/CityCountyFinder/) to find the county.
---
id: case number
question: |
  What is the case number?
subquestion: |
  The case number is in the caption near the top of the first page of the court order.

  Some orders may also have a Calendar number or an IV-D case number. If the court order from your case has those numbers, add those as well.
fields:
  - Case number: case_number
    maxlength: 20
  - Calendar: calendar
    required: False
    maxlength: 10
  - IV-D case number: ivd_number
    required: False
    maxlength: 25
---
id: filing date
question: |
  % if case_type == "Other":
  When was the ${other_case_type} case filed with the court?
  % else:
  When was the ${case_type} case filed with the court?
  % endif
fields:
  - Filing date: filing_date
    datatype: ThreePartsDate
    alMax: ${ today().format("yyyy-MM-dd") }
---
id: case completed
question: |
  % if case_type == "Other":
  Has the ${other_case_type} case been completed?
  % else:
  Has the ${case_type} case been completed?
  % endif
subquestion: |
  If the court entered a final Order or Judgment, your case is completed.

  If the court has not entered such an Order, your case is still ongoing, or "pending." You likely have another court date scheduled.
fields: 
  - no label: case_completed
    input type: radio
    choices: 
      - Yes, the case is complete.: True
      - No, the case is still ongoing (pending).: False
  - Date of the final Order or Judgment: final_order_date
    datatype: ThreePartsDate
    alMin: ${filing_date}
    alMax: ${ today().format("yyyy-MM-dd") }
    show if: case_completed
    help: |
      The Order or Judgment should be dated by the judge or stamped by the court clerk. This might be on the first page or on the last page near the judge's signature.
---
sets:
  - other_parties[i].name.first
  - other_parties[i].name.last
  - other_parties[i].name.middle
  - other_parties[i].name.suffix
id: other party name
question: |
  % if case_type == "Other":
  What is the name of the other party in the ${other_case_type} case?
  % else:
  What is the name of the other party in the ${case_type} case?
  % endif
subquestion: |
  Their name should be on the top of the order or judgment.
fields:
  - code: |
      other_parties[i].name_fields()
---
generic object: ALIndividual
id: has lawyer
question: |
  Does ${ x.name_full() } have a lawyer in this case?
field: x.is_represented
choices:
  - Yes: True
  - No: False
  - I don't know.: null 
# note: null will be None in review screen
---
id: add lawyer
generic object: ALIndividual
question: |
  Who is  ${ x.name_full() }'s lawyer?
fields:
  - First name: x.lawyer.name.first
  - Middle name: x.lawyer.name.middle
    required: False
  - Last name: x.lawyer.name.last
  - Suffix: x.lawyer.name.suffix
    code: |
      name_suffix()
    required: False   
---
id: other party address
question: |
  % if other_parties[0].is_represented:
  What is ${other_parties[0].lawyer.name_full()}'s address?
  % else:
  What is ${other_parties[0].name_full()}'s address?
  % endif
fields:
  - Street address: other_parties[0].address.address
    address autocomplete: True
  - Address line 2: other_parties[0].address.unit
    required: False
  - City: other_parties[0].address.city
  - State: other_parties[0].address.state
    code: |
      states_list() 
  - ZIP code: other_parties[0].address.zip
---
id: other party email
question: |
  Does ${other_parties[0].name_full()} have an email address?
fields:
  - no label: other_parties[0].has_email
    datatype: yesnomaybe
  - What is their email address?: other_parties[0].email_address
    show if: other_parties[0].has_email
---
id: petition info
continue button field: petition_info
question: |
  About the petition
subquestion: |
  Your *Petition for Rule to Show Cause* form will include information about your case.

  % if violation_type == "child":
  The petition will say how much and how often you are supposed to be paid child support and how much ${other_parties[0].name_full()} owes you.
  % elif violation_type == "maintain":
  The petition will say how much and how often you are supposed to be paid maintenance and how much ${other_parties[0].name_full()} owes you.  
  % else:
  The petition will say how ${other_parties[0].name_full()} violated the court order and what you are asking the court to tell ${other_parties[0].name_full()} to do.
  % endif

  The next screens will ask for information that will go into your petition.
---
sets:
  - children[i].name.first
id: child name
question: |
  What is the name of the ${ordinal(i)} child in the support order?
fields:
  code:
    children[i].name_fields()
---
id: child birth
question: |
  When was ${children[i].name_full()} born?
fields:
  - Birthdate: children[i].birth
    datatype: ThreePartsDate
    alMin: ${filing_date.minus(years=30)}
    alMax: ${ child_support_order_date }
validation code: |
  children[i].age = date_difference(starting=children[i].birth, ending=today())
---
id: child there is another
question: |
  Is there another child included in the child support order?
subquestion: |
  So far you have told us about ${fix_punctuation(children.full_names())}
fields:
  - no label: children.there_is_another
    datatype: yesnoradio
---
id: children live with who
question: |
  % if children.number_gathered() > 1:
  Who do the children live with?
  % else:
  Who does ${children[0].name_full()} live with?
  % endif
fields:
  - no label: live_with_who
    input type: radio
    choices:
      - Me
      - ${other_parties[0].name_full()}: other
---
id: live with date
question: |
  % if children.number_gathered() > 1 and live_with_who == "Me":
  When did the children start living with you?
  % elif children.number_gathered() > 1 and live_with_who == "other":
  When did the children start living with ${other_parties[0].name_full()}?
  % elif children.number_gathered() == 1 and live_with_who == "Me":
  When did ${children[0].name_full()} start living with you?
  % elif children.number_gathered() == 1 and live_with_who == "other":
  When did ${children[0].name_full()} start living with ${other_parties[0].name_full()}?
  % endif
fields:
  - Date: live_with_date
    datatype: ThreePartsDate
    max: ${ today() }
---
id: child support order date
question: |
  When did the court order child support payments?
subquestion: |
  This date should be on the order.
fields:
  - Date: child_support_order_date
    alMin: ${filing_date}
    alMax: ${today().format("yyyy-MM-dd")}
    datatype: ThreePartsDate
---
id: maintenance order date
question: |
  When did the court order maintenance payments?
subquestion: |
  Maintenance is also known as "spousal support" or "alimony."
  
  This date should be on the order.
fields:
  - Date: maintenance_order_date
    alMin: ${filing_date}
    alMax: ${today().format("yyyy-MM-dd")}
    datatype: ThreePartsDate
---
id: child support amount
question: |
  How much and how often is ${other_parties[0].name_full()} supposed to pay child support?
subquestion: |
  This amount should be listed on the ${child_support_order_date} order.
fields:
  - Amount: child_support_amount
    datatype: currency
    min: 1
  - Frequency: child_support_freq
    input type: radio
    choices:
      - Every week
      - Every other week
      - Twice a month
      - Once a month
---
id: maintenance amount
question: |
  How much and how often is ${other_parties[0].name_full()} supposed to pay maintenance?
fields:
  - Amount: maintenance_amount
    datatype: currency
    min: 1
  - Frequency: maintenance_freq
    input type: radio
    choices:
      - Every week
      - Every other week
      - Twice a month
      - Once a month
---
id: child support last payment date
question: |
  When did ${other_parties[0].name_full()} last pay child support?
fields:
  - Date: child_support_last_payment_date
    alMax: ${today().format("yyyy-MM-dd")}
    alMin: ${child_support_order_date}
    datatype: ThreePartsDate
---
id: maintenance last payment date
question: |
  When did ${other_parties[0].name_full()} last pay maintenance?
fields:
  - Date: maintenance_last_payment_date
    alMax: ${today().format("yyyy-MM-dd")}
    alMin: ${maintenance_order_date}
    datatype: ThreePartsDate
---
id: child support missed payment count
question: |
  How many payments has ${other_parties[0].name_full()} missed?
fields:
  - Number of missed payments: child_support_missed_payment_count
    datatype: integer
---
id: maintenance missed payment count
question: |
  How many payments has ${other_parties[0].name_full()} missed?
fields:
  - Number of missed payments: maintenance_missed_payment_count
    datatype: integer
---
id: child support arrears
question: |
  Was ${other_parties[0].name_full()} ordered to pay a separate amount of past unpaid child support?
subquestion: |
  This past unpaid child support is sometimes called an "arrearage." It would be listed as a separate amount on the support order.

  If past unpaid child support is owed, enter that amount.

  If ${other_parties[0].name_full()} has only missed regular payments, you can click **No**.
fields:
  - no label: child_support_arrears_check
    datatype: yesnoradio
  - Past unpaid child support: child_support_arrears_amount
    min: 1
    show if: child_support_arrears_check
    datatype: currency
---
id: maintenance arrears
question: |
  Was ${other_parties[0].name_full()} ordered to pay a separate amount of past unpaid maintenance?
subquestion: |
  This past unpaid maintenance is sometimes called an "arrearage." It would be listed as a separate amount on the support order.

  If past unpaid maintenance is owed, enter that amount.

  If ${other_parties[0].name_full()} has only missed regular payments, you can click **No**.
fields:
  - no label: maintenance_arrears_check
    datatype: yesnoradio
  - Past unpaid maintenance: maintenance_arrears_amount
    datatype: currency
    min: 1
    show if: maintenance_arrears_check
---
reconsider: True
code: |
  missed_child_support = (child_support_amount * child_support_missed_payment_count)
  child_support_total_amount = missed_child_support
  if child_support_arrears_check:
    child_support_total_amount += child_support_arrears_amount
---
id: child support total amount
continue button field: child_support_total_amount_note
question: |
  What ${other_parties[0].name_full()} owes in child support  
subquestion: |
  Based on your answers, ${other_parties[0].name_full()} owes ${currency(child_support_total_amount)} in child support payments. 

  % if child_support_arrears_check:
  Here's how we figured out this total:
  
  * ${nice_number(child_support_missed_payment_count,use_word=False)} missed payments of ${currency(child_support_amount)}, which comes to ${currency(missed_child_support)}.
  * ${currency(child_support_arrears_amount)} in previously ordered past due support (arrears).
  * When added together, the missed payments and the past due support total ${currency(child_support_total_amount)}.
  % else:
  Here's how we figured out this total: ${nice_number(child_support_missed_payment_count,use_word=False)} missed payments of ${currency(child_support_amount)} comes to ${currency(child_support_total_amount)}.
  % endif
  
  If this is correct, click **Next**. If this is incorrect, you can click [**Your petition**](${url_action('section_petition')}) to change your earlier answers.
---
reconsider: True
code: |
  missed_maintenance = (maintenance_amount * maintenance_missed_payment_count)
  maintenance_total_amount = missed_maintenance
  if maintenance_arrears_check:
   maintenance_total_amount += maintenance_arrears_amount
---
id: maintenance total amount
continue button field: maintenance_total_amount_note
question: |
  What ${other_parties[0].name_full()} owes in maintenance
subquestion: |
  Based on your answers, ${other_parties[0].name_full()} owes ${currency(maintenance_total_amount)} in maintenance payments.

  % if maintenance_arrears_check:
  Here's how we figured out this total:
  
  * ${nice_number(maintenance_missed_payment_count,use_word=False)} missed payments of ${currency(maintenance_amount)}, which comes to ${currency(missed_maintenance)}.
  * ${currency(maintenance_arrears_amount)} in previously ordered past due support (arrears).
  * When added together, the missed payments and the past due support total ${currency(maintenance_total_amount)}.
  % else:
  Here's how we figured out this total: ${nice_number(maintenance_missed_payment_count,use_word=False)} missed payments of ${currency(maintenance_amount)} comes to ${currency(missed_maintenance)}.
  % endif
  
  If this is correct, click **Next**. If this is incorrect, you can click [**Your petition**](${url_action('section_petition')}) to change your earlier answers.
---
id: order paragraph
question: |
  What does the order or judgment say ${other_parties[0].name_full()} is supposed to do?
subquestion: |
  Enter the paragraph number of the Order that was violated.

  In the first box, enter the paragraph number of the Order that was violated.

  In the second box, enter the words from that paragraph that explain what ${other_parties[0].name_full()} was supposed to do. For example, if the paragraph says, "Petitioner shall put the marital property up for sale by October 1, 2025," you should enter "Put the marital property up for sale by October 1, 2025." The paragraph may or may not have ${other_parties[0].name_full()}'s name or role.
fields:
  - Order paragraph (number or letter): order_paragraphs[i].name.text
    maxlength: 5
  - ${other_parties[0].name_full()} was ordered to:: order_paragraphs[i].requirement
    input type: area
    rows: 6
---
id: violation
question: |
  How did ${other_parties[0].name_full()} violate paragraph ${order_paragraphs[i].name.text} of the order or judgment?
subquestion: |
  Be specific. State what ${other_parties[0].name_full()} did to violate the order or judgment. Include the amount of money, if any, claimed to be due. Include the date or dates when they violated the order or judgment. 

  If ${other_parties[0].name_full()}'s violation cost you money or hurt you in another way, include that here.
 
  ${collapse_template(order_paragraphs_reference)}
fields:
  - ${other_parties[0].name_full()} violated paragraph ${order_paragraphs[i].name.text} by:: order_paragraphs[i].violation
    input type: area
    rows: 6
---
template: order_paragraphs_reference
subject: |
  **Remind me what paragraph ${order_paragraphs[i].name.text} said ${other_parties[0].name_full()} should do**
content: |
  ${order_paragraphs[i].requirement}
---
id: order request
question: |
  What do you want the court to order ${other_parties[0].name_full()} to do?
subquestion: |
  ${collapse_template(order_paragraphs_reference)}
fields:
  - I ask that the court order that ${other_parties[0].name_full()} do the following:: order_paragraphs[i].order_request
    input type: area
    rows: 6
---
id: order paragraph there is another
question: |
  Did ${other_parties[0].name_full()} violate another paragraph of the order?
subquestion: |
  So far you have told us about:

  % for para in order_paragraphs:
  * Paragraph ${para.name.text}
  % endfor
fields:
  - no label: order_paragraphs.there_is_another
    datatype: yesnoradio
---
id: willful info
continue button field: willful_info
question: |
  About your petition
subquestion: |
  Your petition will say that ${other_parties[0].name_full()}'s violation of the order was "willful, contumacious, and without just cause."
 
  **Willful** means they did it on purpose.

  **Contumacious** means they refused to obey the court.

  **Without just cause** means they did not have a good reason to do it.
---
id: hearing scheduled
question: |
  Do you already have a court date scheduled for this petition?
subquestion: |
  In some counties, the circuit clerk can give you a hearing date before you file your petition. In other counties, you will get a hearing date when you file your motion. If you have this information now, you can add it to your forms.
  
  If the clerk gives you the hearing date after you file your petition, you can add it to your *Notice of Court Date for Motion* form later. 
  
  **Note:** You must add this information to your *Notice of Court Date for Motion* before you deliver it to ${other_parties[0].name_full()}.
fields:
  - "Know court date and time?": has_court_date
    datatype: yesnoradio
---
id: hearing info
question: |
  Court hearing information
subquestion: |
  Enter the date, time, and courtroom information for your hearing.

  If you do not know this yet, you can leave these fields blank. You must add this information to the petition before you deliver it to ${other_parties[0].name_full()}.
fields:
  - Date: hearing_date
    datatype: date
    min: ${ today().format("yyyy-MM-dd") }
    required: False
  - Time: hearing_time
    datatype: time
    required: False
  - Hearing type: hearing_type
    datatype: checkboxes
    required: False
    none of the above: False
    choices:
      - In person: person
      - By phone or video: remote
  - Courtroom: courtroom
    maxlength: 10
    required: False
  - Video conference website (URL): remote_website
    maxlength: 100
    input type: area
    rows: 2
    required: False
    show if: hearing_type['remote']
  - Video conference log-in information (Meeting ID, password, etc.): remote_login
    maxlength: 100
    input type: area
    rows: 2
    required: False
    show if: hearing_type['remote']
  - Call-in phone number for remote appearance: remote_phone
    datatype: al_international_phone
    required: False
    show if: hearing_type['remote']
---
template: hearing_info_help
subject: |
  **See where to put hearing information on your forms**
content: |  
  You can put information on how to attend court on the bottom of page 1 of your *Notice of Court Date for Motion*.

  We will add the courtroom address to your forms. To get the other information, contact your Circuit Clerk. You can look up how to contact them using [**Find Your Court**](https://www.illinoiscourts.gov/courts-directory/interactive-map/by-court-type/) on the Illinois Courts website.
  
  [FILE hearing_information.png, 100%, Part of Notice of Court Date for Motion form]
---
id: knows delivery method
generic object: ALIndividual
question: |
  % if x.is_represented:
  Do you know **how** and **when** you will send your forms to ${ x.lawyer.name_full() }?
  % else:
  Do you know **how** and **when** you will send your forms to ${ x.name_full() }?
  % endif
subquestion: |
  ${ collapse_template(delivery_method_help) }  

  For best results, complete the Proof of Delivery section and send the forms today.

  If you do not know this now, you can add it to the Proof of Delivery section of your forms later.
field: x.knows_delivery_method
choices:
  - Yes: True
  - No. I do not know this now. I will add it to my forms later.: False
---
template: delivery_method_help
subject: |
  **What are my delivery options?**
content: |  
  You can deliver the forms by:
  
  * Email,
  * The court's **{e-filing system}**,
  * US mail or a delivery company (like UPS or FedEx), or
  * Hand delivery to the party, the party's family member over 13 at their residence, the party's lawyer, or their lawyer's office.

  You must send your forms electronically (by email or through the e-filing system) if you and the person you are sending forms to have an email address. If you or the person you are sending to do not have an email address, or if you have permission from the judge, you may send forms by mail, through a delivery company, or by hand-delivery.
  
  If you are in a prison or jail, you can deliver by mail.
terms:
  - e-filing system: |
      The court's e-filing system could be any approved electronic filing service provider (EFSP).
---
id: all party delivery method
sets:
  - x.email_delivery
  - x.efm_delivery
  - x.physical_delivery
generic object: ALIndividual
question: |
  % if x.is_represented:
  How will you send your forms to ${ x.lawyer.name_full() }?
  % else:
  How will you send your forms to ${ x.name_full() }?
  % endif
subquestion: |
  You must send your forms electronically (by email or through the e-filing system) if you and the person you are sending forms to have an email address. If you or the person you are sending to do not have an email address, or if you have permission from the judge, you may send forms by mail, through a delivery company, or by hand-delivery.

  For best results, complete the Proof of Delivery section and send the forms today.

  **Note:** If you do not know this now, be sure to add it to the Proof of Delivery section of your forms later.

  ${ collapse_template(efiling_help) }  
fields:
  - Email: x.email_delivery
    datatype: yesnowide
  - Email address (for direct email delivery): x.delivery_email
    datatype: email
    js show if: 
      val("x.email_delivery") == true
    required: False
  - E-filing system: x.efm_delivery
    datatype: yesnowide
    help: |
      The court's e-filing system could be any approved electronic filing service provider (EFSP).
  - Email address (for delivery thru the e-filing system): x.delivery_efsp_email
    datatype: email
    js show if: 
      val("x.efm_delivery") == true
    required: False
  - "US mail, a delivery company (like UPS or FedEX), or in-person by hand-delivery": x.physical_delivery
    datatype: yesnowide
  - note: |
      Where will you deliver the paper forms to?
    js show if: 
      val("x.physical_delivery") == true
  - Street address: x.address.address
    address autocomplete: True
    js show if: 
      val("x.physical_delivery") == true
    required: False
  - Address line 2: x.address.unit
    js show if: 
      val("x.physical_delivery") == true
    required: False
  - City: x.address.city
    js show if: 
      val("x.physical_delivery") == true
    required: False
  - State: x.address.state
    code: |
      states_list()
    js show if: 
      val("x.physical_delivery") == true
    required: False
  - ZIP code: x.address.zip
    js show if: 
      val("x.physical_delivery") == true
    required: False
  - note: |
      How will you deliver the paper forms? **Choose an option below.**  
    js show if: 
      val("x.physical_delivery") == true
  - I will send by **US mail or a delivery company** (like UPS or FedEx).: x.mail_delivery
    datatype: yesnowide
    js show if:
      val("x.physical_delivery") == true
    required: False
  - Address or intersection of mailbox or delivery company: x.delivery_mail_address
    maxlength: 40
    js show if: 
      val("x.physical_delivery") == true && val("x.mail_delivery") == true
    required: False
  - City of mailbox or delivery company: x.delivery_mail_city
    maxlength: 30
    js show if: 
      val("x.physical_delivery") == true && val("x.mail_delivery") == true
    required: False
  - State of mailbox or delivery company: x.delivery_mail_state
    code: |
      states_list()
    js show if: 
      val("x.physical_delivery") == true && val("x.mail_delivery") == true
    required: False
  - "I will **hand-deliver** paper forms. **Note:** You can only deliver to the party, the party's family member over 13 at their residence, the party's lawyer, or their lawyer's office.": x.hand_delivery
    datatype: yesnowide
    js show if: 
      val("x.physical_delivery") == true      
    required: False
  - I will send the forms by mail from a **prison or jail**.: x.jail_delivery
    datatype: yesnowide
    js show if: 
      val("x.physical_delivery") == true
    required: False
  - note: |
      Enter prison or jail information
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
  - Name of prison or jail: x.delivery_jail_name
    maxlength: 40
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
    required: False
  - Street address: x.jail_delivery_address.address
    address autocomplete: True
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
    required: False
  - Address line 2: x.jail_delivery_address.unit
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
    required: False
  - City: x.jail_delivery_address.city
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
    required: False
  - State: x.jail_delivery_address.state
    code: |
      states_list()
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
    required: False
  - ZIP code: x.jail_delivery_address.zip
    js show if: 
      val("x.physical_delivery") == true && val("x.jail_delivery") == true
    required: False
---
template: efiling_help
subject: |
  **What if I need help sending my forms electronically?**
content: |  
  If you need help delivering by email or using the e-filing system, you can visit a [**Legal Self-Help Center**](https://www.illinoislegalaid.org/get-legal-help/lshc-directory) or you can call, chat, or text a Court Guide at [**Illinois Court Help**](https://www.ilcourthelp.gov) or 833-411-1121.
---
---
id: delivery time
generic object: ALIndividual
question: |
  % if x.is_represented:
  When will you send your forms to ${ x.lawyer.name_full() }?
  % else:
  When will you send your forms to ${ x.name_full() }?
  % endif
subquestion: |
  For best results, complete the Proof of Delivery section and send the forms today.

  **Note:** If you do not know this now, be sure to add it to your forms later.
fields:
  - Date: x.delivery_date
    datatype: date
    required: False
    min: ${ today().minus(years=1) }
    max: ${ today().plus(years=1) }
  - Time: x.delivery_time
    datatype: time
    required: False
validation code: |
  if (not showifdef('x.delivery_date')):
    x.knows_delivery_date = False
  else:
    x.knows_delivery_date = True
  if (not showifdef('x.delivery_time')):
    x.knows_delivery_time = False
  else:
    x.knows_delivery_time = True
---
id: hand delivery info
continue button field: hand_delivery_info
question: |
  Complete the delivery section of your forms
subquestion: |
  **Don't forget!** Make sure you review and complete the delivery section of your forms for each party.
  
  [FILE proof_of_delivery_snip_sep_2025.png, 100%, Proof of Delivery section of forms]

  **Instructions when delivering your forms by hand:**

  * If a party in your case does not have a lawyer, you can hand-deliver the forms to them or to a family member who is 13 or older at their home.
  * If they do have a lawyer, you can hand-deliver the forms to the lawyer or to the lawyer's office.
---
sets:
  - users[0].name.first
id: user zero name
question: |
  What is your name?
fields:
  - code: |
      users[0].name_fields()
---
id: user address
question: |
  What is your address?
fields:
  - Street address: users[0].address.address
    address autocomplete: True
  - Address line 2: users[0].address.unit
    required: False
  - City: users[0].address.city
  - State: users[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: users[0].address.zip
---
id: your contact information
generic object: ALIndividual
question: |
  What is your contact information?
subquestion: |
  The court or other parties might need to contact you about this case.

  **This information will appear on your court forms.**
  
  If you do not want to list a phone number on your forms, leave it blank.

  If you have an email address, you must list it. Be sure to check your email daily, otherwise you may miss important information about your case.

  ${ collapse_template(contact_info_help) }  
fields:  
  - Phone number: x.phone_number
    datatype: al_international_phone
    required: False
  - label: |
      Do you have an email address?
    field: x.has_email_address      
    datatype: yesnoradio
  - note: |
      This email address will appear on your court forms. Be sure to check 
      this email daily, otherwise you may miss important information about 
      your case.
    show if: x.has_email_address      
  - Email address: x.email    
    datatype: email
    show if: 
      variable: x.has_email_address
      is: True
---
template: contact_info_help
subject: |
  **What if I don't want to list my email address?**
content: |  
  If you do not want to enter your personal email address, you can create a new email account to get email about your case.
  
  To make a new email account try one of these email services:
  
  * [**Gmail**](https://accounts.google.com/SignUp)
  * [**Outlook**](https://outlook.live.com/owa/?nlp=1&signup=1)
  * [**Yahoo**](https://login.yahoo.com/account/create?.lang=en-US&.intl=us)
---
id: e-signature
question: |
  Do you want to add your e-signature to your *Petition for Rule to Show Cause*?
subquestion: |
  This program can put "**/s/ ${users[0].name_full()}**" where you would sign your name. The court will accept this as your signature.

  If you do not add your **{e-signature}**, you must sign your paper forms before you file and deliver them.

  <div class="alert alert-info ilao-info" role="alert">
    <h6 class="alert-heading">What it means to sign your forms</h6>
    <p>By signing your <i>Petition for Rule to Show Cause</i> and the <i>Proof of Delivery</i> form, you are certifying that:</p>
    <p><ul>
      <li>Everything on the forms is true and correct, or you have been informed or you believe it is true and correct, and</li>
      <li>You understand that making a false statement on the forms is perjury and has penalties provided by law.</li>
    </ul></p>
    <p>See the <a href="https://www.ilga.gov/legislation/ilcs/documents/073500050k1-109.htm"><b>Illinois Code of Civil Procedure, 735 ILCS 5/1-109</b></a> for more information.</p>
     <p>By signing your <i>Notice of Court Date for Motion</i> form, you are certifying that:</p>
    <p><ul>
      <li>You read the document,</li>
      <li>You have been informed and believe it is true and correct, and</li>
      <li>You are not filing it to cause delay or for another bad reason.</li>
  </ul></p>
  <p>See the <a href="https://ilcourtsaudio.blob.core.windows.net/antilles-resources/resources/9ce1fce9-895f-463e-b87d-f9b7631f8fde/Rule%20137.pdf"><b>Illinois Supreme Court Rule 137</b></a> for more information.</p>
  </div>

fields:
  - "Add e-signature?": e_signature
    datatype: yesnoradio
terms:
  - "e-signature": |
      An e-signature is an electronic signature. It is a digital version of a signature that has the same effect as a hand-written signature.
---
id: next steps
continue button field: next_steps
question: |
  Next steps
subquestion: |
  Before you file your petition, you should attach a copy of the order to the petition. Mark the order as "Exhibit A." You can also attach copies of any documents that show how the other person violated the order. Mark these documents as "Exhibit B," "Exhibit C," etc.

  Then, you can file the completed and signed forms with the circuit clerk. You may need to file the forms electronically. Attachments will need to be uploaded as separate documents. To learn more, read ILAO's article on [**E-filing basics**](https://www.illinoislegalaid.org/node/109496).

  % if other_parties[0].is_represented:
  Next, once the clerk has scheduled a hearing, you will need to deliver copies of your forms, including any exhibits, to ${other_parties[0].name_full()} and their lawyer, ${other_parties[0].lawyer.name_full()}.
  % else:
  Next, once the clerk has scheduled a hearing, you will need to deliver copies of your forms, including any exhibits, to ${other_parties[0].name_full()}.
  % endif

  You will need to attend the hearing on the scheduled day. You should bring copies of your forms, including any exhibits, to the hearing.

  To learn more, read the instructions you can download at the end of this program. 
---
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
reconsider: True
code: |
  if violation_type == "child" or violation_type == "maintain":
    statute = "750 ILCS 46/801"
  else:
    statute = "750 ILCS 5/505"
---
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your forms are ready. View and download your forms below. Click **Make changes** to fix any mistakes.
  
  Read the instructions to learn what to do next.
  
  This program does not file your forms with the court. You will need to do this yourself. Learn about [**e-filing in Illinois**](https://www.illinoiscourts.gov/eservices/information-for-filers-without-lawyers).
  
  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }
 
  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }
  
  **Note:** This program does not file your forms with the court. You will need to do this yourself. Learn about [**e-filing in Illinois**](https://www.illinoiscourts.gov/eservices/information-for-filers-without-lawyers).

  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

 
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Petition for rule to show cause - Family law
content: |
  Your forms are attached.
    
  Thanks for using ILAO Easy Forms!
  
  [**Illinois Legal Aid Online**](https://www.illinoislegalaid.org)
---
objects:
  - petition: ALDocument.using(title="Petition for Rule to Show Cause", filename="petition", enabled=True, has_addendum=False)
  - instructions: ALDocument.using(title="Instructions", filename="instructions", enabled=True, has_addendum=False)
  - proof_of_delivery: ALDocument.using(title="Proof of Delivery", filename="proof_of_delivery", enabled=True, has_addendum=False)
  - notice: ALDocument.using(title="Notice of Court Date", filename="notice", enabled=True, has_addendum=False)
  - order: ALDocument.using(title="Order on Rule to Show Cause", filename="order", enabled=True, has_addendum=False)
---
objects:
  - petition_bundle: ALDocumentBundle.using(elements=[petition, proof_of_delivery], filename="petition_for_rule_to_show_cause.pdf", title="Petition for Rule to Show Cause", enabled=True)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, petition_bundle, notice, order], filename="petition_for_rule_to_show_cause.pdf", title="Download all forms")
---
attachment:
  variable name: instructions[i]
  name: instructions
  filename: instructions
  docx template file: instructions_petition_rule_cause_family.docx
---
attachment:
  variable name: proof_of_delivery[i]
  name: proof_of_delivery
  filename: proof_of_delivery
  skip undefined: True
  editable: False
  pdf template file: aoic_proof_of_delivery.pdf
  fields:
      - "trial_court_county": ${trial_court.address.county}
      - "plaintiffs": |
          % if in_re_check:
          ${ in_re_label }
          % else:
          % if party_label == 'plaintiff' or party_label == "petitioner":
          % if users.number_gathered() > 1:
          ${ users[0].name_full() }, et al.
          % else:
          ${ users[0].name_full() }
          % endif
          % else:
          % if other_parties.number_gathered() > 1:
          ${ other_parties[0].name_full() }, et al.
          % else:
          ${ other_parties[0].name_full() }
          % endif
          % endif
          % endif     
      - "defendant_list": |
          % if not in_re_check:
          % if party_label == "plaintiff" or party_label == "petitioner":
          ${ other_parties[0].name_full() } 
          % else:
          ${ users[0].name_full() }
          % endif
          % endif
      - "user__1": ${ users[0].name_full() }
      - "user__2": ${ users[0].name_full() }
      - "user_mail_address_one_line__1": ${ users[0].address.on_one_line(bare=True) }
      - "user_phone_number__1": ${ phone_number_formatted(users[0].phone_number) }
      - "user_email": ${ users[0].email if users[0].has_email_address else '' }
      - "case_number__1": ${ case_number }
      - "case_number__2": ${ case_number }
      
      - "e_sign_name__1": ${ users[0].name_full() if e_signature else '' }
      - "for_self": ${True}
      - "document_name": ${"Petition for Rule to Show Cause and for Finding of Indirect Civil Contempt"}
      - "delivery_party1_name_full": | 
          % if other_parties[0].is_represented:
          ${ other_parties[0].lawyer.name_full() } (lawyer for ${ other_parties[0].name_full() })
          % else:
          ${ other_parties[0].name_full() }
          % endif
      - "delivery_party1_mail_address_on_one_line": ${ other_parties[0].address.on_one_line(bare=True) }
      - "delivery_party1_email": ${ other_parties[0].delivery_email if other_parties[0].knows_delivery_method else '' }
      - "delivery_party1_email_efsp": ${ other_parties[0].delivery_efsp_email if other_parties[0].knows_delivery_method else '' }
      - "is_delivery_party1_hand_yes": ${ other_parties[0].hand_delivery if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery else '' }
      - "is_delivery_party1_mail_yes": ${ other_parties[0].mail_delivery if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery else '' }
      - "is_delivery_party1_efm_yes": ${ other_parties[0].efm_delivery if other_parties[0].knows_delivery_method else '' }
      - "is_delivery_party1_email_yes": ${ other_parties[0].email_delivery if other_parties[0].knows_delivery_method else '' }
      - "delivery_party1_date": ${ other_parties[0].delivery_date if other_parties[0].knows_delivery_method and other_parties[0].knows_delivery_date else '' }
      - "delivery_party1_time": ${ format_time(other_parties[0].delivery_time, format='h:mm a') if other_parties[0].knows_delivery_method and other_parties[0].knows_delivery_time else '' }
      
      - "is_delivery_party1_not_electronic": ${ True if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery else '' }
      - "delivery_party1_mail_location": |
          % if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery and other_parties[0].mail_delivery:
          % if other_parties[0].delivery_mail_address != "" and other_parties[0].delivery_mail_city != "" and other_parties[0].delivery_mail_state != "":
          ${other_parties[0].delivery_mail_address }, ${other_parties[0].delivery_mail_city}, ${ state_name(other_parties[0].delivery_mail_state) }
          % elif other_parties[0].delivery_mail_address != "" and other_parties[0].delivery_mail_city != "":
          ${other_parties[0].delivery_mail_address }, ${other_parties[0].delivery_mail_city}
          % elif other_parties[0].delivery_mail_address != "" and other_parties[0].delivery_mail_state != "":
          ${other_parties[0].delivery_mail_address }, ${ state_name(other_parties[0].delivery_mail_state) }
          % elif other_parties[0].delivery_mail_city != "" and other_parties[0].delivery_mail_state != "":
          ${other_parties[0].delivery_mail_city}, ${ state_name(other_parties[0].delivery_mail_state) }
          % elif other_parties[0].delivery_mail_address != "":
          ${other_parties[0].delivery_mail_address}
          % elif other_parties[0].delivery_mail_city != "":
          ${other_parties[0].delivery_mail_city}
          % else:
          ${state_name(other_parties[0].delivery_mail_state)}
          % endif
          % else:
          ${ "" }
          % endif
      - "is_delivery_party1_jail_yes": ${ True if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery and other_parties[0].jail_delivery else '' }
      - "delivery_party1_jail_name": |
          % if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery and other_parties[0].jail_delivery:
          % if other_parties[0].delivery_jail_name != "" and other_parties[0].jail_delivery_address.address != "" and other_parties[0].jail_delivery_address.city != "" and other_parties[0].jail_delivery_address.state != "":
          ${ other_parties[0].delivery_jail_name }, ${ other_parties[0].jail_delivery_address.on_one_line(bare=True)}
          % elif other_parties[0].delivery_jail_name == "":
          ${ other_parties[0].jail_delivery_address.on_one_line(bare=True)}
          % else:
          ${ other_parties[0].delivery_jail_name }
          % endif
          % else:
          ${""}
          % endif    
---
attachment:
  variable name: notice[i]
  name: notice
  filename: notice
  skip undefined: True
  editable: True
  pdf template file: notice_of_court_date.pdf
  fields:
      - "trial_court_county": ${ trial_court.address.county }
      - "plaintiffs": |
          % if in_re_check:
          ${ in_re_label }
          % else:
          % if party_label == 'plaintiff' or party_label == 'petitioner':
          ${ users[0].name_full() }
          % else:
          ${ other_parties[0].name_full() }
          % endif
          % endif
      - "defendants": |
          % if in_re_check:
          ${ "" }
          % elif party_label == "plaintiff" or party_label == "petitioner":
          ${other_parties[0].name_full()}
          % else:
          ${users[0].name_full()}
          % endif
      - "user__1": ${ users[0].name_full() }
      - "user__2": ${ users[0].name_full() }
      - "user__3": ${ users[0].name_full() }
      - "user_mail_address_one_line__1": ${ users[0].address.on_one_line(bare=True) }
      - "user_mail_address_one_line__2": ${ users[0].address.on_one_line(bare=True) }
      - "user_phone_number__1": ${ phone_number_formatted(users[0].phone_number) }
      - "user_phone_number__2": ${ phone_number_formatted(users[0].phone_number) }
      - "user_email": ${ users[0].email if users[0].has_email_address else '' }
      - "user_email__2": ${ users[0].email if users[0].has_email_address else '' }
      - "case_number__1": ${ case_number }
      - "case_number__2": ${ case_number }
      - "case_number__3": ${ case_number }
      - "case_number__4": ${ case_number }
      - "e_sign_name__1": ${ users[0].name_full() if e_signature else '' }
      - "e_sign_name__2": ${ users[0].name_full() if e_signature else '' }
      - "for_self": ${True}
      - "for_self_2": ${True}      
      - "motion_summary": ${ "Petition for Rule to Show Cause and for Finding of Indirect Civil Contempt"}

      - "hearing_date": ${ "" }
      - "hearing_time": ${ "" }
      - "hearing_am_checkbox": ${ ""}
      - "hearing_pm_checkbox": ${ ""}
      - "in_person_cb": ${ "" }
      - "remote_cb": ${  "" }
      - "remote_url": ${ "" }
      - "remote_login": ${  ""}
      - "remote_phone": ${ ""}
      - "hearing_courtroom": ${ ""}
      - "courthouse_address": ${""}
      - "clerk_phone": ${ "" }
      - "clerk_website": ${ "" }
        
      - "document_name": ${ "Petition for Rule to Show Cause and for Finding of Indirect Civil Contempt"}
      - "delivery_party1_name_full": | 
          % if other_parties[0].is_represented:
          ${ other_parties[0].lawyer.name_full() } (lawyer for ${ other_parties[0].name_full() })
          % else:
          ${ other_parties[0].name_full() }
          % endif
      - "delivery_party1_mail_address_on_one_line": ${ other_parties[0].address.on_one_line(bare=True) }
      - "delivery_party1_email": ${ other_parties[0].delivery_email if other_parties[0].knows_delivery_method else '' }
      - "delivery_party1_email_efsp": ${ other_parties[0].delivery_efsp_email if other_parties[0].knows_delivery_method else '' }
      - "is_delivery_party1_hand_yes": ${ other_parties[0].hand_delivery if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery else '' }
      - "is_delivery_party1_mail_yes": ${ other_parties[0].mail_delivery if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery else '' }
      - "is_delivery_party1_efm_yes": ${ other_parties[0].efm_delivery if other_parties[0].knows_delivery_method else '' }
      - "is_delivery_party1_email_yes": ${ other_parties[0].email_delivery if other_parties[0].knows_delivery_method else '' }
      - "delivery_party1_date": ${ other_parties[0].delivery_date if other_parties[0].knows_delivery_method and other_parties[0].knows_delivery_date else '' }
      - "delivery_party1_time": ${ format_time(other_parties[0].delivery_time, format='h:mm a') if other_parties[0].knows_delivery_method and other_parties[0].knows_delivery_time else '' }
      
      - "is_delivery_party1_not_electronic": ${ True if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery else '' }
      - "delivery_party1_mail_location": |
          % if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery and other_parties[0].mail_delivery:
          % if other_parties[0].delivery_mail_address != "" and other_parties[0].delivery_mail_city != "" and other_parties[0].delivery_mail_state != "":
          ${other_parties[0].delivery_mail_address }, ${other_parties[0].delivery_mail_city}, ${ state_name(other_parties[0].delivery_mail_state) }
          % elif other_parties[0].delivery_mail_address != "" and other_parties[0].delivery_mail_city != "":
          ${other_parties[0].delivery_mail_address }, ${other_parties[0].delivery_mail_city}
          % elif other_parties[0].delivery_mail_address != "" and other_parties[0].delivery_mail_state != "":
          ${other_parties[0].delivery_mail_address }, ${ state_name(other_parties[0].delivery_mail_state) }
          % elif other_parties[0].delivery_mail_city != "" and other_parties[0].delivery_mail_state != "":
          ${other_parties[0].delivery_mail_city}, ${ state_name(other_parties[0].delivery_mail_state) }
          % elif other_parties[0].delivery_mail_address != "":
          ${other_parties[0].delivery_mail_address}
          % elif other_parties[0].delivery_mail_city != "":
          ${other_parties[0].delivery_mail_city}
          % else:
          ${state_name(other_parties[0].delivery_mail_state)}
          % endif
          % else:
          ${ "" }
          % endif
      - "is_delivery_party1_jail_yes": ${ True if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery and other_parties[0].jail_delivery else '' }
      - "delivery_party1_jail_name": |
          % if other_parties[0].knows_delivery_method and other_parties[0].physical_delivery and other_parties[0].jail_delivery:
          % if other_parties[0].delivery_jail_name != "" and other_parties[0].jail_delivery_address.address != "" and other_parties[0].jail_delivery_address.city != "" and other_parties[0].jail_delivery_address.state != "":
          ${ other_parties[0].delivery_jail_name }, ${ other_parties[0].jail_delivery_address.on_one_line(bare=True)}
          % elif other_parties[0].delivery_jail_name == "":
          ${ other_parties[0].jail_delivery_address.on_one_line(bare=True)}
          % else:
          ${ other_parties[0].delivery_jail_name }
          % endif
          % else:
          ${""}
          % endif
      - "is_additional_proof_delivery_yes": ${ other_parties.number() > 1 }
      - "hearing_date": ${hearing_date if has_court_date else ""}
      - "hearing_time": ${format_time(hearing_time, format='h:mm') if has_court_date and hearing_time != "" else ""}
      - "hearing_am_checkbox": ${True if has_court_date and format_time(hearing_time, format='a')=='AM' and hearing_time != "" else ""}
      - "hearing_pm_checkbox": ${True if has_court_date and format_time(hearing_time, format='a')=='PM' and hearing_time != "" else ""}
      - "in_person_cb": ${True if has_court_date and hearing_type['person'] else False}
      - "remote_cb": ${True if has_court_date and hearing_type['remote'] else False}
      - "hearing_courtroom": ${courtroom if has_court_date else ""}
      - "courthouse_address": |
          % if has_court_date and hearing_type['person']:
          ${court_name}, ${court_full_street}, ${court_csz}, Room ${courtroom}
          % endif
      - "remote_url": ${ remote_website if has_court_date and hearing_type['remote'] else ""}
      - "remote_login": ${ remote_login if has_court_date and hearing_type['remote'] else ""}
      - "remote_phone": ${ phone_number_formatted(remote_phone) if has_court_date and hearing_type['remote'] else ""}
      - "clerk_phone": ${trial_court.phone if has_court_date else ""}
      - "clerk_website": ${trial_court.website if has_court_date else ""}
---
#old notice form based on LHI template
#attachment:
#  variable name: notice_family[i]
#  name: notice_family
#  filename: notice_family
#  skip undefined: True
#  editable: False
#  pdf template file: notice_family.pdf
#  fields:
#    - "county_all_caps": ${trial_court.address.county.upper()}
#    - "in_re": ${case_type}
#    - "case_number": ${case_number}
#    - "calendar": ${calendar}
#    - "ivd_number": ${ivd_number}
#    - "petitioner_name_1": ${users[0].name_full() if party_label == "plaintiff" or party_label == "petitioner" else other_parties[0].name_full()}
#    - "user_name_1": ${users[0].name_full()}
#    - "respondent_name_1": ${other_parties[0].name_full() if party_label == "plaintiff" or party_label == "petitioner" else users[0].name_full()}
#    - "delivery_name_1": ${other_parties[0].name_full()}
#    - "delivery_street_1": ${other_parties[0].address.line_one(bare=True)}
#    - "delivery_csz_1": ${other_parties[0].address.line_two()}
#    - "hearing_date": ${""}
#    - "hearing_time": ${""}
#    - "courtroom": ${""}
#    - "court_address": ${courthouse_info}
#    - "esignature_1": ${"/s/ " + users[0].name_full() if e_signature else ""}
#    - "user_street_1": ${users[0].address.line_one(bare=True)}
#    - "user_csz_1": ${users[0].address.line_two()}
#    - "user_phone_1": ${phone_number_formatted(users[0].phone_number)}
#    - "user_email_1": ${users[0].email if users[0].has_email_address else ""}
---
attachment:
  name: petition
  variable name: petition[i]
  filename: petition
  docx template file: word_petition_rule_family.docx
---
attachment:
  variable name: order[i]
  name: order
  filename: order
  skip undefined: True
  editable: False
  pdf template file: order_rule_family.pdf
  fields:
    - "county_all_caps": ${trial_court.address.county.upper()}
    - "in_re": |
        % if in_re_check:
        In re: ${in_re_label}
        % endif
    - "case_number": ${case_number}
    - "calendar": ${calendar}
    - "ivd_number": ${ivd_number}
    - "user_name_1": ${users[0].name_full()}
    - "petitioner_name_1": |
        % if party_label == "plaintiff" or party_label == "petitioner":
        ${users[0].name_full()}, 
        % else:
        ${other_parties[0].name_full()},
        % endif
    - "respondent_name_1": |
        % if party_label == "plaintiff" or party_label == "petitioner":
        ${other_parties[0].name_full()},
        % else:
        ${users[0].name_full()},       
        % endif
    - "other_party_name_1": ${other_parties[0].name_full()}
    - "other_party_label_1": ${capitalize(opponent_label)}
    - "other_party_label_2": ${capitalize(opponent_label)}
    - "other_party_label_3": ${capitalize(opponent_label)}
    #- "order_failure_description": |
    #    % if violation_type == "child":
    #    pay child support and any other child related expenses
    #    % elif violation_type == "maintain":
    #    pay maintenance and any other spousal support related expenses
    #    % elif order_paragraphs.number_gathered() == 1:
    #    ${order_paragraphs[0].order_request}
    #    elif order_paragraphs.number_gathered() == 2:
    #    ${order_paragraphs[0].order_request} and ${order_paragraphs[1].order_request}
    #    elif order_paragraphs.number_gathered() == 3:
    #    ${order_paragraphs[0].order_request}, ${order_paragraphs[1].order_request}, and ${order_paragraphs[2].order_request}
    #    % endif
    #- "require_date": ${final_order_date}
    - "user_street": ${users[0].address.line_one(bare=True)}
    - "user_csz": ${users[0].address.line_two()}
    - "user_phone": ${phone_number_formatted(users[0].phone_number)}
    - "user_email": ${users[0].email if users[0].has_email_address else ""}
---
id: case info review screen
event: section_case_info
section: Case info
question: |
  Case info
subquestion: |
  Edit your answers below.
review: 
  - Edit: violation_type
    button: |
      **How did the other party not follow the court order?**
      % if violation_type == "child":
      They failed to pay child support.
      % elif violation_type == "maintain":
      They failed to pay spousal support.
      % else:
      They violated a court order in another way.
      % endif
  - Edit: case_type
    button: |
      **Type of case:**
      % if case_type == "Other":
      ${other_case_type}
      % else:
      ${case_type}
      % endif
  - Edit: party_label
    button: |
      **Your role:**
      ${capitalize(party_label)}
  - Edit: 
      - trial_court_index
      - recompute:
        - trial_court
    button: |
      **County where this case is filed:**
      ${ trial_court.address.county }
  - Edit: case_number
    button: |
      % if ivd_number == "" and calendar == "": 
      **Case number:**
      ${case_number}
      % else:
      **Case numbers:**

      * Case number: ${case_number}
      % if calendar != "":
      * Calendar: ${calendar}
      % endif
      % if ivd_number != "":
      * IV-D case number: ${ivd_number}
      % endif 
      % endif
  - Edit: in_re_check
    button: |
      **Does the court case have the words "In re:" in the name?**
      ${word(yesno(in_re_check))}
  - Edit: in_re_label
    button: |
      **What does it say after "In re:?"**
      ${in_re_label}
    show if: in_re_check
  - Edit: filing_date
    button: |
      **When was the case filed?**
      ${filing_date}
  - Edit: case_completed
    button: |
      **Has the case been completed?**
      % if case_completed:
      Yes, the final order was on ${final_order_date}
      % else:
      No
      % endif
  - Edit: other_parties[0].name.first
    button: |
      **Other party's name:**
      ${other_parties[0].name_full()}
---
id: petition review screen
event: section_petition
section: Your petition
question: |
  Your petition
subquestion: |
  Edit your answers below.
review: 
  - Edit: violation_type
    button: |
      **How did the other party not follow the court order?**
      % if violation_type == "child":
      They failed to pay child support.
      % elif violation_type == "maintain":
      They failed to pay spousal support.
      % else:
      They violated a court order in another way.
      % endif
  - Edit: case_type
    button: |
      **Type of case:**
      % if case_type == "Other":
      ${other_case_type}
      % else:
      ${case_type}
      % endif
  - Edit: child_support_order_date
    button: |
      **When did the court order child support payments?**
      ${child_support_order_date}
    show if: violation_type == "child"
  - Edit: child_support_amount
    button: |
      **How much and how often is ${other_parties[0].name_full()} supposed to pay child support?**
      ${currency(child_support_amount)} ${child_support_freq.lower()}  
    show if: violation_type == "child"
  - Edit: child_support_last_payment_date
    button: |
      **When did ${other_parties[0].name_full()} last pay child support?**
      ${child_support_last_payment_date}
    show if: violation_type == "child"
  - Edit: child_support_missed_payment_count
    button: |
      **How many payments has ${other_parties[0].name_full()} missed?**
      ${nice_number(child_support_missed_payment_count,use_word=False)}
    show if: violation_type == "child"
  - Edit: child_support_arrears_check
    button: |
      **Does ${other_parties[0].name_full()} owe a child support arrearage?**
      % if child_support_arrears_check:
      Yes, they owe ${currency(child_support_arrears_amount)}.
      % else:
      No
      % endif
    show if: violation_type == "child"
  - Edit: children.revisit
    button: |
      **Children (Edit to change names and birthdates):**
      
      % for kid in children:
      * ${kid.name_full()}
      % endfor
    show if: violation_type == "child"
  - Edit: maintenance_order_date
    button: |
      **When did the court order maintenance payments?**
      ${maintenance_order_date}
    show if: violation_type == "maintain"
  - Edit: maintenance_amount
    button: |
      **How much and how often is ${other_parties[0].name_full()} supposed to pay maintenance?**
      ${currency(maintenance_amount)} ${maintenance_freq.lower()}  
    show if: violation_type == "maintain"
  - Edit: maintenance_last_payment_date
    button: |
      **When did ${other_parties[0].name_full()} last pay maintenance?**
      ${maintenance_last_payment_date}
    show if: violation_type == "maintain"
  - Edit: maintenance_missed_payment_count
    button: |
      **How many payments has ${other_parties[0].name_full()} missed?**
      ${nice_number(maintenance_missed_payment_count,use_word=False)}
    show if: violation_type == "maintain"
  - Edit: maintenance_arrears_check
    button: |
      **Does ${other_parties[0].name_full()} owe a maintenance arrearage?**
      % if maintenance_arrears_check:
      Yes, they owe ${currency(maintenance_arrears_amount)}
      % else:
      No
      % endif
    show if: violation_type == "maintain"
  - Edit: order_paragraphs.revisit
    button: |
      **Order paragraphs (Edit to change details):**

      % for para in order_paragraphs:
      * Paragraph ${para.name.text}
      % endfor
    show if: violation_type == "other"
---
id: children review screen
continue button field: children.revisit
section: Your petition
question: |
  Edit the children
subquestion: |
  ${ children.table }

  ${ children.add_action() }
---
table: children.table
rows: children
columns:
  - Name: |
      row_item.name_full() if defined("row_item.name.first") else ""
  - Birthdate: |
      row_item.birth if defined("row_item.birth") else ""
delete buttons: True
edit: 
  - review_child
confirm: True
---
id: child review screen
continue button field: x.review_child
section: Your petition
generic object: ALIndividual
question: |
  Edit ${ x.name_full() }'s information
subquestion: |  
review: 
  - Edit: x.name.first
    button: |
      **Name:**
      ${x.name_full()}
  - Edit: x.birth
    button: |
      **${x.name_full()}'s birthdate**
      ${x.birth}
---
id: order paragraphs review screen
continue button field: order_paragraphs.revisit
section: Your petition
question: |
  Edit the order details
subquestion: |
  ${ order_paragraphs.table }

  ${ order_paragraphs.add_action() }
---
table: order_paragraphs.table
rows: order_paragraphs
columns:
  - Paragraph number: |
      row_item.name.text if defined("row_item.name.text") else ""
  - Order, violation, and request: |
      action_button_html(url_action(row_item.attr_name("review_order")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True
---
id: order paragraph review screen
continue button field: x.review_order
section: Your petition
generic object: Thing
question: |
  Edit information about paragraph ${x.name.text}
subquestion: |  
review: 
  - Edit: x.name.text
    button: |
      **Paragraph number:**
      ${x.name.text}
  - Edit: x.violation
    button: |
      **How did ${other_parties[0].name_full()} violate this paragraph?**
      ${x.violation}
  - Edit: x.order_request
    button: |
      **What do you want the court to order ${other_parties[0].name_full()} to do?**
      ${x.order_request}
---
id: delivery review screen
event: section_delivery
section: Delivery and filing details
question: |
  Delivery and filing details
subquestion: |
  Edit your answers below.
review: 
  - Edit: has_court_date
    button: |
      **Do you have a court date?**
      ${word(yesno(has_court_date))}
  - Edit: hearing_date
    button: |
      **Hearing information:**
      
      % if hearing_date != "":
      * Date: ${hearing_date}
      % else:
      * Date: None entered
      % endif
      % if hearing_time != "":
      * Time: ${ format_time(hearing_time, "h:mm a") }
      % else:
      * Time: None entered
      % endif
      % if hearing_type['person'] and not hearing_type['remote']:
      * Type: In person
      % elif hearing_type['remote'] and not hearing_type['person']:
      * Type: By phone or video
      % elif hearing_type['remote'] and hearing_type['person']:
      * Type: In person or by phone or video
      % else:
      * Type: None entered
      % endif
      % if courtroom != "":
      * Courtroom: ${courtroom}
      % else:
      * Courtroom: None entered
      % endif
      % if hearing_type['remote'] and remote_website != "":
      * Video conference website (URL): ${remote_website}
      % elif hearing_type['remote']:
      * Video conference website (URL): None entered
      % endif
      % if hearing_type['remote'] and remote_login != "":
      * Log-in information: ${remote_login}
      % elif hearing_type['remote']:
      * Log-in information: None entered
      % endif
      % if hearing_type['remote'] and remote_phone != "":
      * Call-in phone number: ${ phone_number_formatted(remote_phone) }
      % elif hearing_type['remote']:
      * Call-in phone number: None entered
      % endif
    show if: has_court_date
  - Edit: other_parties[0].is_represented
    button: |
      **Does ${other_parties[0].name_full()} have a lawyer?**
      % if other_parties[0].is_represented == None:
      I don't know
      % else:
      ${word(yesno(other_parties[0].is_represented))}
      % endif
  - Edit: other_parties[0].lawyer.name.first
    button: |
      **${other_parties[0].name_full()}'s lawyer:**
      ${other_parties[0].lawyer.name_full()}
    show if: other_parties[0].is_represented
  - Edit: other_parties[0].address.address
    button: |
      % if other_parties[0].is_represented == True:
      **${ other_parties[0].lawyer.name_full() }'s address:**
      % else:
      **${ other_parties[0].name_full() }'s address:**
      % endif
      ${ other_parties[0].address.on_one_line(bare=True) }
  - Edit: other_parties[0].knows_delivery_method
    button: |
      **Do you know how you will deliver your forms to them?**
      ${ word(yesno(other_parties[0].knows_delivery_method)) }
  - Edit: other_parties[0].physical_delivery
    button: |
      **Delivery by: (Edit to view and change details)**
      
      % if other_parties[0].efm_delivery == True:
        * E-filing system
      % endif
      % if other_parties[0].email_delivery == True:
        * Email
      % endif
      % if other_parties[0].physical_delivery == True:
        * Mail, delivery company, or in-person hand delivery
      % endif
      % if other_parties[0].physical_delivery == True:
      % if other_parties[0].mail_delivery == True:
        * US mail or delivery company
      % endif
      % endif
      % if other_parties[0].physical_delivery == True:
      % if other_parties[0].hand_delivery == True:
        * Hand delivery
      % endif
      % endif
      % if other_parties[0].physical_delivery == True:
      % if other_parties[0].jail_delivery == True:
        * Mail from prison or jail
      % endif
      % endif
      % if other_parties[0].efm_delivery != True and other_parties[0].email_delivery != True and other_parties[0].physical_delivery != True:
        * None entered
      % endif
    show if: other_parties[0].knows_delivery_method
  - Edit: other_parties[0].delivery_date
    button: |
      **Delivery on:**
      ${ other_parties[0].delivery_date } at ${ format_time(other_parties[0].delivery_time, "h:mm a") }
    show if: other_parties[0].knows_delivery_method
---
id: user review screen
event: section_user
section: About you
question: |
  About you
subquestion: |
  Edit your answers below.
review: 
  - Edit: users[0].name.first
    button: |
      **Your name:**
      ${ users[0].name_full() }
  - Edit: users[0].address.address
    button: |
      **Your address:**
      ${ users[0].address.on_one_line(bare=True) }
  - Edit: users[0].phone_number
    button: |
      **Your phone number:**
      % if users[0].phone_number == "":
      None entered
      % else:
      ${ phone_number_formatted(users[0].phone_number) }
      % endif
  - Edit: users[0].has_email_address
    button: |
      **Do you have an email address?**
      ${ word(yesno(users[0].has_email_address)) }
  - Edit: users[0].email
    button: |
      **Your email:**
      ${ users[0].email }
    show if: users[0].has_email_address
  - Edit: e_signature
    button: |
      **Do you want to add your electronic signature to your forms?**
      ${word(yesno(e_signature))}
---
id: review screen
event: review_answers
question: |
  Review screen
subquestion: |
  Edit your answers below.
review: 
  - note: |
      <h4>Case info</h4>
  - Edit: violation_type
    button: |
      **How did the other party not follow the court order?**
      % if violation_type == "child":
      They failed to pay child support.
      % elif violation_type == "maintain":
      They failed to pay spousal support.
      % else:
      They violated a court order in another way.
      % endif
  - Edit: case_type
    button: |
      **Type of case:**
      % if case_type == "Other":
      ${other_case_type}
      % else:
      ${case_type}
      % endif
  - Edit: party_label
    button: |
      **Your role:**
      ${capitalize(party_label)}
  - Edit: 
      - trial_court_index
      - recompute:
        - trial_court
    button: |
      **County where this case is filed:**
      ${ trial_court.address.county }
  - Edit: case_number
    button: |
      % if ivd_number == "" and calendar == "": 
      **Case number:**
      ${case_number}
      % else:
      **Case numbers:**

      * Case number: ${case_number}
      % if calendar != "":
      * Calendar: ${calendar}
      % endif
      % if ivd_number != "":
      * IV-D case number: ${ivd_number}
      % endif 
      % endif
  - Edit: in_re_check
    button: |
      **Does the court case have the words "In re:" in the name?**
      ${word(yesno(in_re_check))}
  - Edit: in_re_label
    button: |
      **What does it say after "In re:?"**
      ${in_re_label}
    show if: in_re_check
  - Edit: filing_date
    button: |
      **When was the case filed?**
      ${filing_date}
  - Edit: case_completed
    button: |
      **Has the case been completed?**
      % if case_completed:
      Yes, the final order was on ${final_order_date}
      % else:
      No
      % endif
  - Edit: other_parties[0].name.first
    button: |
      **Other party's name:**
      ${other_parties[0].name_full()}
  - note: |
      <h4>Your petition</h4>
  - Edit: child_support_order_date
    button: |
      **When did the court order child support payments?**
      ${child_support_order_date}
    show if: violation_type == "child"
  - Edit: child_support_amount
    button: |
      **How much and how often is ${other_parties[0].name_full()} supposed to pay child support?**
      ${currency(child_support_amount)} ${child_support_freq.lower()}  
    show if: violation_type == "child"
  - Edit: child_support_last_payment_date
    button: |
      **When did ${other_parties[0].name_full()} last pay child support?**
      ${child_support_last_payment_date}
    show if: violation_type == "child"
  - Edit: child_support_missed_payment_count
    button: |
      **How many payments has ${other_parties[0].name_full()} missed?**
      ${nice_number(child_support_missed_payment_count,use_word=False)}
    show if: violation_type == "child"
  - Edit: child_support_arrears_check
    button: |
      **Does ${other_parties[0].name_full()} owe a child support arrearage?**
      % if child_support_arrears_check:
      Yes, they owe ${currency(child_support_arrears_amount)}
      % else:
      No
      % endif
    show if: violation_type == "child"
  - Edit: children.revisit
    button: |
      **Children (Edit to change names and birthdates):**
      
      % for kid in children:
      * ${kid.name_full()}
      % endfor
    show if: violation_type == "child"
  - Edit: maintenance_order_date
    button: |
      **When did the court order maintenance payments?**
      ${maintenance_order_date}
    show if: violation_type == "maintain"
  - Edit: maintenance_amount
    button: |
      **How much and how often is ${other_parties[0].name_full()} supposed to pay maintenance?**
      ${currency(maintenance_amount)} ${maintenance_freq.lower()}  
    show if: violation_type == "maintain"
  - Edit: maintenance_last_payment_date
    button: |
      **When did ${other_parties[0].name_full()} last pay maintenance?**
      ${maintenance_last_payment_date}
    show if: violation_type == "maintain"
  - Edit: maintenance_missed_payment_count
    button: |
      **How many payments has ${other_parties[0].name_full()} missed?**
      ${nice_number(maintenance_missed_payment_count,use_word=False)}
    show if: violation_type == "maintain"
  - Edit: maintenance_arrears_check
    button: |
      **Does ${other_parties[0].name_full()} owe a maintenance arrearage?**
      % if maintenance_arrears_check:
      Yes, they owe ${currency(maintenance_arrears_amount)}
      % else:
      No
      % endif
    show if: violation_type == "maintain"
  - Edit: order_paragraphs.revisit
    button: |
      **Order paragraphs (Edit to change details):**

      % for para in order_paragraphs:
      * Paragraph ${para.name.text}
      % endfor
    show if: violation_type == "other"
  - note: |
      <h4>Delivery and filing details</h4>
  - Edit: has_court_date
    button: |
      **Do you have a court date?**
      ${word(yesno(has_court_date))}
  - Edit: hearing_date
    button: |
      **Hearing information:**
      
      % if hearing_date != "":
      * Date: ${hearing_date}
      % else:
      * Date: None entered
      % endif
      % if hearing_time != "":
      * Time: ${ format_time(hearing_time, "h:mm a") }
      % else:
      * Time: None entered
      % endif
      % if hearing_type['person'] and not hearing_type['remote']:
      * Type: In person
      % elif hearing_type['remote'] and not hearing_type['person']:
      * Type: By phone or video
      % elif hearing_type['remote'] and hearing_type['person']:
      * Type: In person or by phone or video
      % else:
      * Type: None entered
      % endif
      % if courtroom != "":
      * Courtroom: ${courtroom}
      % else:
      * Courtroom: None entered
      % endif
      % if hearing_type['remote'] and remote_website != "":
      * Video conference website (URL): ${remote_website}
      % elif hearing_type['remote']:
      * Video conference website (URL): None entered
      % endif
      % if hearing_type['remote'] and remote_login != "":
      * Log-in information: ${remote_login}
      % elif hearing_type['remote']:
      * Log-in information: None entered
      % endif
      % if hearing_type['remote'] and remote_phone != "":
      * Call-in phone number: ${ phone_number_formatted(remote_phone) }
      % elif hearing_type['remote']:
      * Call-in phone number: None entered
      % endif
    show if: has_court_date
  - Edit: other_parties[0].is_represented
    button: |
      **Does ${other_parties[0].name_full()} have a lawyer?**
      % if other_parties[0].is_represented == None:
      I don't know
      % else:
      ${word(yesno(other_parties[0].is_represented))}
      % endif
  - Edit: other_parties[0].lawyer.name.first
    button: |
      **${other_parties[0].name_full()}'s lawyer:**
      ${other_parties[0].lawyer.name_full()}
    show if: other_parties[0].is_represented
  - Edit: other_parties[0].address.address
    button: |
      % if other_parties[0].is_represented == True:
      **${ other_parties[0].lawyer.name_full() }'s address:**
      % else:
      **${ other_parties[0].name_full() }'s address:**
      % endif
      ${ other_parties[0].address.on_one_line(bare=True) }
  - Edit: other_parties[0].knows_delivery_method
    button: |
      **Do you know how you will deliver your forms to them?**
      ${ word(yesno(other_parties[0].knows_delivery_method)) }
  - Edit: other_parties[0].physical_delivery
    button: |
      **Delivery by: (Edit to view and change details)**
      
      % if other_parties[0].efm_delivery == True:
        * E-filing system
      % endif
      % if other_parties[0].email_delivery == True:
        * Email
      % endif
      % if other_parties[0].physical_delivery == True:
        * Mail, delivery company, or in-person hand delivery
      % endif
      % if other_parties[0].physical_delivery == True:
      % if other_parties[0].mail_delivery == True:
        * US mail or delivery company
      % endif
      % endif
      % if other_parties[0].physical_delivery == True:
      % if other_parties[0].hand_delivery == True:
        * Hand delivery
      % endif
      % endif
      % if other_parties[0].physical_delivery == True:
      % if other_parties[0].jail_delivery == True:
        * Mail from prison or jail
      % endif
      % endif
      % if other_parties[0].efm_delivery != True and other_parties[0].email_delivery != True and other_parties[0].physical_delivery != True:
        * None entered
      % endif
    show if: other_parties[0].knows_delivery_method
  - Edit: other_parties[0].delivery_date
    button: |
      **Delivery on:**
      ${ other_parties[0].delivery_date } at ${ format_time(other_parties[0].delivery_time, "h:mm a") }
    show if: other_parties[0].knows_delivery_method
  - note: |
      <h4>About you</h4>
  - Edit: users[0].name.first
    button: |
      **Your name:**
      ${ users[0].name_full() }
  - Edit: users[0].address.address
    button: |
      **Your address:**
      ${ users[0].address.on_one_line(bare=True) }
  - Edit: users[0].phone_number
    button: |
      **Your phone number:**
      % if users[0].phone_number == "":
      None entered
      % else:
      ${ phone_number_formatted(users[0].phone_number) }
      % endif
  - Edit: users[0].has_email_address
    button: |
      **Do you have an email address?**
      ${ word(yesno(users[0].has_email_address)) }
  - Edit: users[0].email
    button: |
      **Your email:**
      ${ users[0].email }
    show if: users[0].has_email_address
  - Edit: e_signature
    button: |
      **Do you want to add your electronic signature to your forms?**
      ${word(yesno(e_signature))}